<% content_for :title, t('home.index.meta.title') %>
<% content_for :description, t('home.index.meta.description') %>

<!-- âœ¨ HERO SECTION -->
<section class="hero-section position-relative d-flex align-items-center text-white" style="min-height: 60vh; background: linear-gradient(135deg, rgba(220,53,69,0.85) 0%, rgba(102,16,242,0.85) 100%), url('<%= asset_path('collection_shelf.jpg') %>') center/cover no-repeat; overflow: hidden;">
  <div class="hero-overlay position-absolute w-100 h-100" style="background: rgba(0,0,0,0.4); top: 0; left: 0;"></div>
  <div class="container position-relative text-center" style="z-index: 2;">
    <h1 class="display-3 fw-bold mb-4 animate__animated animate__fadeInDown" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.5);"><%= raw t('home.index.heading_html') %></h1>
    <p class="lead mb-5 fs-4 animate__animated animate__fadeInUp" style="max-width: 700px; margin: 0 auto; text-shadow: 1px 1px 4px rgba(0,0,0,0.5);"><%= t('home.index.lead') %></p>
    <div class="d-flex flex-column flex-sm-row justify-content-center gap-3 animate__animated animate__fadeInUp animate__delay-1s">
      <% if user_signed_in? %>
        <%= link_to catalog_path, class: "btn btn-light btn-lg px-5 py-3 shadow-sm" do %>
          <i class="fas fa-store me-2"></i><%= t('home.index.explore_cta') %>
        <% end %>
      <% else %>
        <%= link_to new_user_registration_path, class: "btn btn-light btn-lg px-5 py-3 shadow-sm" do %>
          <i class="fas fa-user-plus me-2"></i><%= t('home.index.register_cta') %>
        <% end %>
        <%= link_to new_user_session_path, class: "btn btn-outline-light btn-lg px-5 py-3" do %>
          <i class="fas fa-sign-in-alt me-2"></i><%= t('home.index.login_cta') %>
        <% end %>
      <% end %>
    </div>
  </div>
</section>

<!-- ðŸŒŸ PRODUCTOS DESTACADOS -->
<% featured_products = @products.select { |p| p.current_on_hand > 0 }.first(8) %>
<% if featured_products.present? %>
<section class="featured-products py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="display-5 fw-bold mb-3">Productos Destacados</h2>
      <p class="lead text-muted">Descubre las Ãºltimas novedades de nuestra colecciÃ³n</p>
    </div>
    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-4 mb-4">
      <% featured_products.each do |product| %>
        <div class="col">
          <div class="card h-100 border-0 shadow-sm hover-lift">
            <%= link_to product_path(product), class: "text-decoration-none" do %>
              <% if product.product_images&.attached? %>
                <%= image_tag product.product_images.first, class: "card-img-top", alt: product.product_name, style: "height: 200px; object-fit: cover;" %>
              <% else %>
                <div class="card-img-top bg-secondary d-flex align-items-center justify-content-center text-white" style="height: 200px;">
                  <i class="fas fa-image fa-3x opacity-50"></i>
                </div>
              <% end %>
              <div class="card-body">
                <h6 class="card-title text-dark mb-2 fw-semibold" style="font-size: 0.9rem;"><%= product.product_name %></h6>
                <p class="text-danger fw-bold mb-0"><%= number_to_currency(product.selling_price) %></p>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="text-center">
      <%= link_to catalog_path, class: "btn btn-danger btn-lg px-5" do %>
        Ver CatÃ¡logo Completo <i class="fas fa-arrow-right ms-2"></i>
      <% end %>
    </div>
  </div>
</section>
<% end %>

<!-- ðŸ’Ž VALUE PROPOSITIONS -->
<div class="container mt-5 py-5 text-center">

<!-- ðŸ’Ž VALUE PROPOSITIONS -->
<div class="container py-5">
  <div class="text-center mb-5">
    <h2 class="display-5 fw-bold mb-3">Â¿Por quÃ© Pasatiempos?</h2>
    <p class="lead text-muted">Tu aliado en el mundo del coleccionismo</p>
  </div>

  <div class="row row-cols-1 row-cols-md-2 g-4 mb-5">
    <div class="col">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-4">
          <div class="mb-3">
            <i class="fas fa-box-open text-danger fa-3x"></i>
          </div>
          <h5 class="card-title fw-bold mb-3"><%= t('home.index.cards.collection.title') %></h5>
          <p class="card-text text-muted"><%= t('home.index.cards.collection.text') %></p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-4">
          <div class="mb-3">
            <i class="fas fa-users text-danger fa-3x"></i>
          </div>
          <h5 class="card-title fw-bold mb-3"><%= t('home.index.cards.community.title') %></h5>
          <p class="card-text text-muted"><%= t('home.index.cards.community.text') %></p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-4">
          <div class="mb-3">
            <i class="fas fa-heart text-danger fa-3x"></i>
          </div>
          <h5 class="card-title fw-bold mb-3"><%= t('home.index.cards.legacy.title') %></h5>
          <p class="card-text text-muted"><%= t('home.index.cards.legacy.text') %></p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-body text-center p-4">
          <div class="mb-3">
            <i class="fas fa-shield-alt text-danger fa-3x"></i>
          </div>
          <h5 class="card-title fw-bold mb-3"><%= t('home.index.cards.practices.title') %></h5>
          <p class="card-text text-muted"><%= t('home.index.cards.practices.text') %></p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ðŸ“§ NEWSLETTER -->
<section class="newsletter-section py-5 bg-danger text-white">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <h2 class="display-6 fw-bold mb-3">Â¡Mantente Actualizado!</h2>
        <p class="lead mb-4">Recibe las Ãºltimas novedades, ofertas exclusivas y lanzamientos directamente en tu correo.</p>
        <form class="row g-3 justify-content-center" action="#" method="post">
          <div class="col-12 col-md-7">
            <input type="email" class="form-control form-control-lg" placeholder="Tu correo electrÃ³nico" required>
          </div>
          <div class="col-12 col-md-auto">
            <button type="submit" class="btn btn-light btn-lg px-5 w-100">
              <i class="fas fa-envelope me-2"></i>Suscribirse
            </button>
          </div>
        </form>
        <p class="small mt-3 opacity-75">
          <i class="fas fa-lock me-1"></i>Tu privacidad es importante. No compartimos tu informaciÃ³n.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- ðŸš€ CALL TO ACTION -->
<div class="container my-5 py-5 text-center">
  <h2 class="fw-bold text-danger mb-3"><%= t('home.index.join_title') %></h2>
  <p class="lead mb-4"><%= t('home.index.join_lead') %></p>

  <% if user_signed_in? %>
    <%= link_to t('home.index.explore_cta'), catalog_path, class: "btn btn-danger btn-lg px-5 py-3" %>
  <% else %>
    <div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
      <%= link_to new_user_session_path, class: "btn btn-outline-danger btn-lg px-5 py-3" do %>
        <i class="fas fa-sign-in-alt me-2"></i><%= t('home.index.login_cta') %>
      <% end %>
      <%= link_to new_user_registration_path, class: "btn btn-danger btn-lg px-5 py-3" do %>
        <i class="fas fa-user-plus me-2"></i><%= t('home.index.register_cta') %>
      <% end %>
    </div>
  <% end %>
</div>
