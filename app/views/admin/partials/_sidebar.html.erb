<div class="sidebar-inner vh-100 d-flex flex-column">
  <%# Header minimalista %>
  <div class="sidebar-header px-2 py-2 border-bottom border-secondary">
    <div class="d-flex justify-content-between align-items-center">
      <a href="<%= admin_dashboard_path %>" class="text-decoration-none d-flex align-items-center gap-2">
        <i class="fa fa-store text-white sidebar-label"></i>
        <span class="sidebar-label fw-bold text-white small">PASATIEMPOS</span>
      </a>
      <button class="sidebar-toggle-btn btn btn-sm btn-outline-light d-md-inline d-none js-sidebar-toggle" aria-label="Toggle sidebar" data-sidebar-toggle>
        <i class="fa fa-bars"></i>
      </button>
    </div>
  </div>

  <%# Navegación principal %>
  <nav class="sidebar-nav flex-grow-1 py-1">
    <ul class="nav flex-column">
      
      <li class="nav-item px-2 mb-1">
        <%= admin_sidebar_link 'Dashboard', admin_dashboard_path, icon: 'fa-chart-line' %>
      </li>

      <li class="text-secondary my-2" role="separator" aria-hidden="true"><hr class="m-0"></li>

      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Órdenes de Compra', admin_purchase_orders_path, icon: 'fa-truck-loading' %>
      </li>
      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Órdenes de Venta', admin_sale_orders_path, icon: 'fa-cash-register' %>
      </li>
      <li class="nav-item px-2 mb-1">
        <%= admin_sidebar_link 'Preórdenes', admin_preorders_path, icon: 'fa-hourglass-half' %>
      </li>

      <li class="text-secondary my-2" role="separator" aria-hidden="true"><hr class="m-0"></li>

      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Productos', admin_products_path, icon: 'fa-box-open' %>
      </li>
      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Inventario', admin_inventory_path, icon: 'fa-warehouse', section: true %>
      </li>
      <li class="nav-item px-2 mb-1">
        <%= admin_sidebar_link 'Ajustes', admin_inventory_adjustments_path, icon: 'fa-scale-balanced' %>
      </li>

      <li class="text-secondary my-2" role="separator" aria-hidden="true"><hr class="m-0"></li>

      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Cuentas por Cobrar', admin_receivables_path, icon: 'fa-hand-holding-dollar' %>
      </li>
      <li class="nav-item px-2 mb-1">
        <%= admin_sidebar_link 'Reportes', admin_reports_path, icon: 'fa-chart-pie' %>
      </li>

      <li class="text-secondary my-2" role="separator" aria-hidden="true"><hr class="m-0"></li>

      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Usuarios', admin_users_path, icon: 'fa-users' %>
      </li>
      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Configuración', admin_settings_path, icon: 'fa-sliders' %>
      </li>
      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Variables del Sistema', admin_system_variables_path, icon: 'fa-database' %>
      </li>
      <li class="nav-item px-2">
        <%= admin_sidebar_link 'Registro de Visitas', admin_visitor_logs_path, icon: 'fa-eye' %>
      </li>
    </ul>
  </nav>

  <%# Footer con usuario %>
  <div class="sidebar-footer border-top border-secondary px-2 py-2 mt-auto">
    <% if current_user %>
      <%= link_to edit_admin_user_path(current_user), class: "text-decoration-none d-flex align-items-center gap-2 sidebar-user-link" do %>
        <div class="bg-secondary rounded-circle d-flex align-items-center justify-content-center flex-shrink-0 mx-auto sidebar-user-avatar" style="width: 32px; height: 32px;">
          <i class="fa fa-user text-white small"></i>
        </div>
        <div class="sidebar-label overflow-hidden">
          <div class="text-white small fw-medium text-truncate"><%= current_user.name || current_user.email.split('@').first %></div>
          <div class="text-secondary small text-truncate"><%= current_user.role&.capitalize %></div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>