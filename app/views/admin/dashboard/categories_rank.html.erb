<% rows ||= @rows %>
<% period ||= @period %>
<% metric ||= @metric %>
<turbo-frame id="frame-cats-<%= period %>-<%= metric %>">
  <div class="table-responsive">
    <table class="table table-sm mb-0">
      <thead>
        <tr>
          <th>Rank</th>
          <th>Categoría</th>
          <th class="text-end"><%= metric == 'profit' ? 'Utilidad' : 'Ingresos' %></th>
        </tr>
      </thead>
      <tbody>
        <% if rows.present? %>
          <% rows.each_with_index do |r, idx| %>
            <tr>
              <td class="text-muted">#<%= idx + 1 %></td>
              <td><%= r[:category] %></td>
              <td class="text-end"><%= number_to_currency(r[:value]) %></td>
            </tr>
          <% end %>
        <% else %>
          <tr>
            <td colspan="3" class="text-center text-muted py-3">Sin datos</td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <!-- Sin paginación -->
</turbo-frame>
